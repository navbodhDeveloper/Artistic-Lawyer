<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Artistic Lawyer - Events Gallery</title>
  <link rel="stylesheet" href="event-gallery.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

  <!-- Navigation Bar -->
  <header>
    <div class="logo">
      <img src="./Assets/newmainlogo.png" alt="Artistic Lawyer Logo"> 
      <span>Artistic Lawyer</span>
    </div>

    <nav class="nav-links" id="navLinks">
      <ul>
        <li><a href="index.html#home">Home</a></li>
        <li><a href="index.html#gallery">Gallery</a></li>
        <li><a href="index.html#events">Events</a></li>
        <li><a href="index.html#about">About</a></li>
        <li><a href="index.html#contact">Contact</a></li>
      </ul>
    </nav>

    <div class="hamburger" id="hamburger">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </div>
  </header>

  <!-- Events Gallery Section -->
  <section class="gallery">
    <h2>All Event Images</h2>
    <div class="gallery-items" id="eventsGallery">
      <!-- dynamic event items will load here -->
    </div>
  </section>

  <footer class="siteâ€‘footer">
    <div class="footer-wrapper">
      <h3 class="footer-heading">Get in Touch with Us</h3>
      <div class="footer-contacts">
        <div class="contact-item"><i class="fas fa-phone"></i> <a href="tel:+911234567890">+91 7000300676</a></div>
        <div class="contact-item"><i class="fas fa-envelope"></i> <a href="mailto:hello@artisticlawyer.com">artisticlawyer18@gmail.com</a></div>
      </div>
    </div>
  </footer>

  <script type="module">
    import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';

    const SUPABASE_URL = 'https://mlgfrewzbxifgpagnzhg.supabase.co';      
    const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1sZ2ZyZXd6YnhpZmdwYWduemhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1NTE1NTQsImV4cCI6MjA3OTEyNzU1NH0.apuBurmWAZ6ykA90yMmFcFgRUo61HpLsUeWonLgOswM'; 
    const supabase = createClient(SUPABASE_URL, SUPABASE_KEY);

    async function loadGallery() {
  const { data, error } = await supabase
    .from('events_images')
    .select('*')
    .order('created_at', { ascending: false });

  if (error) {
    console.error("Error loading images:", error);
    return;
  }

  const container = document.querySelector('.gallery-items');
  container.innerHTML = data.map(a =>
    `<div class="gallery-item">
       <img src="${a.media_url}" alt="${a.title}">
       <p><strong>${a.title}</strong></p>
       <p>${a.description}</p>
     </div>`
  ).join('');
}

document.addEventListener('DOMContentLoaded', () => {
  loadGallery();
});

 

    document.addEventListener('DOMContentLoaded', loadEventImages);
  </script>
</body>
</html>
